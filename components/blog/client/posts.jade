template(name='posts')
    .ui.container
        #blog_slider(style='width: 1000px; height: 200px;')
            .ls-slide(data-ls='slidedelay: 2000;')
                img.ls-bg(src="{{c.url 'group' width=1000 height=200 crop='fill' gravity='face' effect='improve'}}", alt='Slide background')
                h1.ls-l.overlay-text.slider-text(style="top: 50%; text-size: 300%;") 
                    | Our Stories
        .ui.hidden.divider
        .ui.stackable.divided.grid
            .twelve.wide.column
                h1.impact-header Recent Posts
                .ui.cards
                    each posts
                        +post
            .four.wide.column
                +post_cloud
                if isInRole 'admin'
                    h2.impact-header 
                        i.red.configure.icon
                        |Admin
                    #add_post.ui.compact.basic.button
                        i.large.icons
                            i.sticky.note.outline.icon
                            i.green.plus.corner.icon
                        |Add Post


template(name='post')
    .ui.fluid.card
        .image
            a(href="/post/view/#{_id}")
                img.ui.image(src="{{c.url image_id width=1500 height=500 gravity='face' crop='fill'}}")
        .content
            .header
                a(href="/post/view/#{_id}")
                    h2.ui.header #{title}
            if publish_date
                .meta
                    | Published #{publish_when}
            .description
                |!{description}
        .content
            each tags
                .ui.compact.button.post_tag(class=post_tag_class) #{this}
            if isInRole 'admin'
                .edit_post.ui.primary.basic.right.floated.button
                    i.pencil.icon
                    |Edit Post    
        .content
            +favorite